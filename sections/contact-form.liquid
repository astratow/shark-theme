<section class="max-w-2xl mx-auto px-6 py-16 bg-white shadow-xl rounded-2xl">
  <div class="text-center mb-10">
    {% if section.settings.heading != blank %}
      <h2 class="text-4xl font-extrabold tracking-tight text-gray-900 mb-3">
        {{ section.settings.heading }}
      </h2>
    {% endif %}
    {% if section.settings.subheading != blank %}
      <p class="text-lg text-gray-600">
        {{ section.settings.subheading }}
      </p>
    {% endif %}
  </div>

  {%- form 'contact', id: 'ContactForm' -%}
    {{ form.errors | default_errors }}

    <div class="space-y-6">
      <!-- Name -->
      <div>
        <label for="ContactFormName" class="block mb-1 font-semibold text-gray-800">Name</label>
        <input type="text"
               id="ContactFormName"
               name="contact[name]"
               value="{{ form.name }}"
               required
               class="w-full rounded-xl border-gray-300 p-4 shadow-sm focus:border-indigo-500 focus:ring-2 focus:ring-indigo-400 transition" />
      </div>

      <!-- Email -->
      <div>
        <label for="ContactFormEmail" class="block mb-1 font-semibold text-gray-800">Email</label>
        <input type="email"
               id="ContactFormEmail"
               name="contact[email]"
               value="{{ form.email }}"
               required
               class="w-full rounded-xl border-gray-300 p-4 shadow-sm focus:border-indigo-500 focus:ring-2 focus:ring-indigo-400 transition" />
      </div>

      <!-- Phone (optional) -->
      {% if section.settings.show_phone %}
        <div>
          <label for="ContactFormPhone" class="block mb-1 font-semibold text-gray-800">Phone</label>
          <input type="tel"
                 id="ContactFormPhone"
                 name="contact[phone]"
                 value="{{ form.phone }}"
                 class="w-full rounded-xl border-gray-300 p-4 shadow-sm focus:border-indigo-500 focus:ring-2 focus:ring-indigo-400 transition" />
        </div>
      {% endif %}

      <!-- Message -->
      <div>
        <label for="ContactFormMessage" class="block mb-1 font-semibold text-gray-800">Message</label>
        <textarea id="ContactFormMessage"
                  name="contact[body]"
                  rows="6"
                  required
                  class="w-full rounded-xl border-gray-300 p-4 shadow-sm focus:border-indigo-500 focus:ring-2 focus:ring-indigo-400 transition"></textarea>
      </div>

      <!-- Button -->
      <div>
        <button type="submit"
                class="w-full bg-gradient-to-r from-indigo-600 to-indigo-500 hover:from-indigo-700 hover:to-indigo-600 text-white font-bold py-4 px-6 rounded-xl shadow-lg transform hover:scale-[1.02] transition">
          {{ section.settings.button_label }}
        </button>
      </div>

      <!-- Success -->
      {% if form.posted_successfully? %}
        <p class="text-green-600 font-medium mt-4">
          {{ section.settings.success_message }}
        </p>
      {% endif %}
    </div>
  {%- endform -%}
</section>

{% schema %}
{
  "name": "Contact Form",
  "settings": [
    { "type": "text", "id": "heading", "label": "Heading", "default": "Let’s talk" },
    { "type": "text", "id": "subheading", "label": "Subheading", "default": "We’d love to hear from you. Fill out the form below." },
    { "type": "checkbox", "id": "show_phone", "label": "Show phone field?", "default": true },
    { "type": "text", "id": "button_label", "label": "Button text", "default": "Send message" },
    { "type": "text", "id": "success_message", "label": "Success message", "default": "Thank you! We’ll be in touch soon." }
  ],
  "presets": [{ "name": "Contact Form" }]
}
{% endschema %}