
<section class="max-w-3xl mx-auto px-4 py-12">
  <div class="text-center mb-8">
    {% if section.settings.heading != blank %}
      <h2 class="text-3xl font-bold mb-2">{{ section.settings.heading }}</h2>
    {% endif %}
    {% if section.settings.subheading != blank %}
      <p class="text-lg text-gray-600">{{ section.settings.subheading }}</p>
    {% endif %}
  </div>

  {%- form 'contact', id: 'ContactForm' -%}
    {{ form.errors | default_errors }}

    <div class="space-y-6">
      <div>
        <label for="ContactFormName" class="block mb-1 font-medium">Name</label>
        <input type="text"
               id="ContactFormName"
               name="contact[name]"
               value="{{ form.name }}"
               required
               class="w-full rounded-xl border-gray-300 focus:ring-2 focus:ring-indigo-500 p-3" />
      </div>

      <div>
        <label for="ContactFormEmail" class="block mb-1 font-medium">Email</label>
        <input type="email"
               id="ContactFormEmail"
               name="contact[email]"
               value="{{ form.email }}"
               required
               class="w-full rounded-xl border-gray-300 focus:ring-2 focus:ring-indigo-500 p-3" />
      </div>

      {% if section.settings.show_phone %}
        <div>
          <label for="ContactFormPhone" class="block mb-1 font-medium">Phone</label>
          <input type="tel"
                 id="ContactFormPhone"
                 name="contact[phone]"
                 value="{{ form.phone }}"
                 class="w-full rounded-xl border-gray-300 focus:ring-2 focus:ring-indigo-500 p-3" />
        </div>
      {% endif %}

      <div>
        <label for="ContactFormMessage" class="block mb-1 font-medium">Message</label>
        <textarea id="ContactFormMessage"
                  name="contact[body]"
                  rows="6"
                  required
                  class="w-full rounded-xl border-gray-300 focus:ring-2 focus:ring-indigo-500 p-3"></textarea>
      </div>

      <div>
        <button type="submit"
                class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 px-6 rounded-xl shadow">
          {{ section.settings.button_label }}
        </button>
      </div>

      {% if form.posted_successfully? %}
        <p class="text-green-600 font-medium mt-4">
          {{ section.settings.success_message }}
        </p>
      {% endif %}
    </div>
  {%- endform -%}
</section>

{% schema %}
{
  "name": "Contact Form",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Get in touch"
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "Subheading",
      "default": "We’d love to hear from you. Fill out the form below."
    },
    {
      "type": "checkbox",
      "id": "show_phone",
      "label": "Show phone field?",
      "default": true
    },
    {
      "type": "text",
      "id": "button_label",
      "label": "Button text",
      "default": "Send message"
    },
    {
      "type": "text",
      "id": "success_message",
      "label": "Success message",
      "default": "Thank you! We’ll be in touch soon."
    }
  ],
  "presets": [
    {
      "name": "Contact Form"
    }
  ]
}
{% endschema %}